@using Highcharts.Blazor.Services
@using Highcharts.Blazor.Models
@inject HighchartsService HighchartsService

<div id="@ChartContainerId" class="highcharts-container"></div>

@code {
    private string ChartContainerId { get; } = $"highcharts-chart-{Guid.NewGuid()}";

    [Parameter]
    public ChartOptions? Options { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && Options != null)
        {
            await HighchartsService.RenderChartAsync(ChartContainerId, Options);
        }
    }
}
